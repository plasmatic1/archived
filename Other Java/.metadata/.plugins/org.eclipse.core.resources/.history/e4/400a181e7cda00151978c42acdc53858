package ctimer.me.tlwv2;

import javafx.scene.Node;
import javafx.scene.control.Label;
import javafx.scene.control.ProgressBar;
import javafx.scene.layout.StackPane;

/*
 * "pb" is the css styling for the progressbar
 * "lb" is the css styling for the label
 */
public class TimerBar extends StackPane {
	
	private ProgressBar bar;
	private Label text;

	public TimerBar() {
		bar.setProgress(0);
		text.setText("0.0");
		
		this.getChildren().add(bar);
		this.getChildren().add(text);
		
		bar.setId("pb");
		text.setId("lb");
		
		bar.applyCss();
		text.applyCss();
	}
	
	public void setProgress(double progress, String lbltxt){
		String text = lbltxt + ": ";
		
		bar.setProgress(progress);
		text.setText(text);
	}

	public TimerBar(Node... children) {
		super(children);
		// TODO Auto-generated constructor stub
	}
	
	public enum ProgressType{
		/*
		 * Displays as Precentage
		 * args: double as precentvalue
		 */
		PRECENT(1, "$PERCp1%"), 
		
		/*
		 * Displays as plain double
		 * args: double as displaytext
		 */
		PLAIN(1, "p1"), 
		
		/*
		 * Displays as fraction
		 * args: param1 / param2
		 */
		FRACTION(2, "p1 / p2"), 
		
		private int argcount;
		private String argfocus;
		
		ProgressType(int argcount, String argfocus){
			this.argcount = argcount;
			this.argfocus = argfocus;
		}
		
		public String textOf(double[] params){
			if(params.length < argcount){
				return null;
			}
		}
	}
}
